<!DOCTYPE html>
<html> <!--
Copyright 2013 Richard Woodbury

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<head>
  <title>Mosh Client</title>
  <script src="mosh_client.js" type="text/javascript"></script>
  <script src="hterm/hterm_deps.js" type="text/javascript"></script>
  <script src="hterm/hterm.js" type="text/javascript"></script>
  <style>
    body {
      position: absolute;
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
    }
    #terminal {
      display: block;
      position: relative;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="setup">
    <form id="args">
      <table>
        <tr>
          <td>Hostname or IP address:</td>
          <td><input id="addr" type="text"></td>
        </tr>
        <tr>
          <td>Port number:</td>
          <td><input id="port" type="text"></td>
        </tr>
          <td>MOSH_KEY:</td>
          <td><input id="key" type="text"></td>
        </tr>
      </table>
      <input id="connect" type="submit" value="Connect">
    </form>

    <h3>Instructions</h3>
    <p>
    First manually ssh to the remote machine and run 'mosh-server'.
    It will print the key and the port number; enter those into this form,
    as well as the IP address (not the hostname) of the remote machine,
    and click 'Connect'. 'mosh-server' gives you about a minute to do this
    before giving up and exiting. You can close your ssh session once
    'mosh-server' is running.

    <h3>Known issues</h3>
    <p>
    <ul>
      <li>Bad interaction with tmux and windowed areas.
      <li>Most fatal errors only log to stderr, not to the screen.
      <li>Too easy to close the window by mistake.
      <li>x86_32 port is built with --disable-hardening, which reduces
        security somewhat.
    </ul>

    <h3>Changelog</h3>
    <ul>
      <li>0.0.0.10 - Now permits hostnames as well as IP addresses. Crypto
        randomness is now actually random. Tested successfully on Linux and
        MacOS.
      <li>0.0.0.9 - Fix for x86_32 failing to start. Tested on Linux; not yet
        tested on MacOS.
      <li>0.0.0.8 - Build against pepper_31 and newer naclports. Eliminate
        spurious new browser tab on connect.
      <li>0.0.0.7 - Add support for i686 (needed for 32-bit Chrome, e.g.
        MacOS).
      <li>0.0.0.6 - Fix bug in readfrom() emulation which caused Mosh to
        show a crypto error, rendering the session useless.
      <li>0.0.0.5 - Clean up initial screen and add this info.
      <li>0.0.0.4 - Big code refactor.
      <li>0.0.0.3 - Fix bug in packet handling code which caused perceived
        sluggishness.
      <li>0.0.0.2 - Add application icon.
      <li>0.0.0.1 - Initial working version.

  </div>
  <div id="terminal"></div>
</body>
</html>
